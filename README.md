# Служба управления складскими запасами на gRPC

## Обзор
  Проект реализует систему управления складскими остатками с использованием gRPC-сервиса на платформе .NET. Поддерживается добавление и удаление товаров,
обновление остатков, просмотр списка товаров и получение информации о конкретной позиции. 

Реализованы все методы и сущности описанные в задании №14

![image](https://github.com/user-attachments/assets/c1df88b3-9546-40e0-8f63-4e64121986df)

![image](https://github.com/user-attachments/assets/7a3618d0-8dd8-4276-9e56-9b967f79dfe0)


## Сценарий
Сервис позволяет клиентским приложениям управлять товарами на складе в реальном времени. Пользователь может добавлять товары, изменять количество на складе, получать список всех товаров и получать информацию по каждому товару.

## Требования
- Visual Studio 2019 или 2022
- .NET 7.0 или выше
- gRPC для .NET: Grpc.AspNetCore, Grpc.Tools

## Установка
Скачиваем проект сдесь и запускаем файл InventoryService.sln в VisualStudio
Проверьте зависимости:
В Visual studio в файлах InventoryGrpcClient.csproj, InventoryService.csproj необходимы следущие версии Grpc
```bash
    <PackageReference Include="Grpc.Net.Client" Version="2.55.0" />
    <PackageReference Include="Google.Protobuf" Version="3.23.3" />
    <PackageReference Include="Grpc.Tools" Version="2.55.0" PrivateAssets="All" />
```
inventory.proto включен в проекте с настройкой:
```bash
    <Protobuf Include="Protos\inventory.proto" GrpcServices="Server" />
```
## Запуск службы
1. Запустите проект сервера InventoryService через Visual Studio

2. Запустите проект клиента InventoryGrpcClient через Visual Studio

## Пример использования
Клиент имеет следущее меню для действий

![image](https://github.com/user-attachments/assets/aca4e42e-e05e-4aa4-a15b-13bee0e5c0d5)

1. Вводим в консоль `1` и сервис выводит все блюда

![image](https://github.com/user-attachments/assets/815c5dc8-980a-49bf-984c-c3baa632ed27)

2. Вводим в консоль `2`, придумываем название и количество продуктов (например `food` `150`).
    
![image](https://github.com/user-attachments/assets/73608865-0502-4905-ae22-f51acb1134ce)

Происходит добавление нового продукта.

3. Вводим в консоль `3`, вводим ID нужного продукта (например `1`).

![image](https://github.com/user-attachments/assets/c71e7f55-54a6-400b-95ac-5aed8cf1fa75)

происходит вывод данных по ID выбранного блюда.

4. Вводим в консоль `4`, вводим ID и придумываем новую разницу блюда (например `1`, `150`)

![image](https://github.com/user-attachments/assets/bc12701a-9d0e-4af5-bb29-b7e806a51d04)

К выбранному блюду добавляется или вычитается если добавить `-` данная сумма.

5. Вводим в консоль `5`, придумываем ID блюда для удаления (например `6`).

![image](https://github.com/user-attachments/assets/036e897e-568f-4451-b8d9-10b41c08985d)

Происходит удаление данного блюда

6. Вводим в консоль `6`, происходит отключение пользователя.

## Тестирование службы
1. **Тест сохранения данных**:
   - Проверьте `products.json` после изменения данных, например приведенных выше в `Сценариях`.
   - Перезапустите сервер и присоединитесь в качестве пользователя для проверки сохранения данных.

2.  **Обработка исключений**:
     Ситуациями с исключениями в данном проекте являются просмотр, добавление, удаление несуществующих продуктов (по их `ID`), в проекте предусмотрены все возможные исключения и вывод пользователю информации об этих ошибках.

![image](https://github.com/user-attachments/assets/3e3f84d6-789a-464d-8b7c-a00337637cc1)

     
## Дополнительные возможности
- **Сохранение данных**: Файл products.json для хранения запасов.
Структура данных в файле:

![image](https://github.com/user-attachments/assets/7988d6ee-c3d6-440c-80c9-23dc3f6d208a)

- **Логирование сервера**: при изменениях продуктов на сервере появляются логи.

![image](https://github.com/user-attachments/assets/7834e7bd-6198-4023-b88f-72f131b6f5a2)
